# Fear of the Dungeon

## Концепция игры
Roguelike с элементами survival horror, где игрок - рыцарь, пытающийся выбраться из процедурно генерируемого подземелья. Особенности:
- Процедурная генерация лабиринтов (алгоритмы DFS/BFS)
- Система ключей и дверей с цветовой привязкой
- Плавная камера и анимации персонажей
- ИИ врагов с двумя состояниями (патрулирование/преследование)
- Система восстановления здоровья с риском

## Геймплей
**Управление:**
- WASD - движение
- ESC - выход

**Механики:**
- 4 уровня с увеличивающейся сложностью
- Случайная генерация лабиринтов при каждом прохождении
- Перманентная мини-карта в углу экрана
- Автоматический сбор ключей при прохождении
- Автоматическое открытие дверей при наличии ключа
- Лечение при бездействии (стоянии на месте)

## Техническая реализация
**Архитектура:**
- Чистая реализация MVC (Model-View-Controller)
- Model: игровая логика и состояние
- View: отрисовка и ввод
- Controller: взаимодействие между Model и View

**Ключевые алгоритмы:**
1. Генерация лабиринта:
   - DFS для создания основного пути
   - BFS для добавления ветвлений
   - Интеллектуальное размещение ключей/дверей(Гарантированное размещение пар ключ-дверь)
   - 100% гарантия возможности прохождения лабиринта

2. ИИ врагов:
   - Состояние патрулирования (случайное движение)
   - Состояние преследования (поиск пути к игроку)
   - Система зрения (прямая видимость)
    
3. Взаимодействие с объектами:
   - Автоматический сбор ключей
   - Проверка наличия ключа при проходе через дверь
   - Удаление использованного ключа

4. Визуальная часть:
   - Плавное слежение с интерполяцией
   - Оптимизированная отрисовка только видимой области
   - Плавные анимации врагов и игрока

## Особенности реализации
- Полностью кастомный рендеринг на WinForms
- Ручная работа с анимациями и спрайтами
- Система сохранения посещенных клеток для мини-карты
